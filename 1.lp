Maximize
- 150 G_5_1+ 150 G_1_5- 200 D_5_1+ 200 D_1_5- 1000 J_5_1+ 1000 J_1_5- 150 G_5_4+ 150 G_4_5- 200 D_5_4+ 200 D_4_5- 1000 J_5_4+ 1000 J_4_5- 150 G_6_7+ 150 G_7_6- 200 D_6_7+ 200 D_7_6- 1000 J_6_7+ 1000 J_7_6- 150 G_6_10+ 150 G_10_6- 200 D_6_10+ 200 D_10_6- 1000 J_6_10+ 1000 J_10_6
Subject To

\flow constraints
+ G_1_2 + G_2_1 + D_1_2 + D_2_1 + J_1_2 + J_2_1 <=165
+ G_1_3 + G_3_1 + D_1_3 + D_3_1 + J_1_3 + J_3_1 <=165
+ G_1_5 + G_5_1 + D_1_5 + D_5_1 + J_1_5 + J_5_1 <=165
+ G_2_7 + G_7_2 + D_2_7 + D_7_2 + J_2_7 + J_7_2 <=165
+ G_2_8 + G_8_2 + D_2_8 + D_8_2 + J_2_8 + J_8_2 <=165
+ G_3_4 + G_4_3 + D_3_4 + D_4_3 + J_3_4 + J_4_3 <=165
+ G_3_9 + G_9_3 + D_3_9 + D_9_3 + J_3_9 + J_9_3 <=165
+ G_4_5 + G_5_4 + D_4_5 + D_5_4 + J_4_5 + J_5_4 <=165
+ G_4_9 + G_9_4 + D_4_9 + D_9_4 + J_4_9 + J_9_4 <=165
+ G_5_6 + G_6_5 + D_5_6 + D_6_5 + J_5_6 + J_6_5 <=165
+ G_6_7 + G_7_6 + D_6_7 + D_7_6 + J_6_7 + J_7_6 <=165
+ G_6_10 + G_10_6 + D_6_10 + D_10_6 + J_6_10 + J_10_6 <=165
+ G_7_8 + G_8_7 + D_7_8 + D_8_7 + J_7_8 + J_8_7 <=165
+ G_8_12 + G_12_8 + D_8_12 + D_12_8 + J_8_12 + J_12_8 <=165
+ G_9_11 + G_11_9 + D_9_11 + D_11_9 + J_9_11 + J_11_9 <=165
+ G_10_11 + G_11_10 + D_10_11 + D_11_10 + J_10_11 + J_11_10 <=165
+ G_10_12 + G_12_10 + D_10_12 + D_12_10 + J_10_12 + J_12_10 <=165
+ G_11_12 + G_12_11 + D_11_12 + D_12_11 + J_11_12 + J_12_11 <=165

\factories and quarries efficiency constraints
+ J_4_3 - J_3_4 + J_4_5 - J_5_4 + J_4_9 - J_9_4 <= 60
+ J_7_2 - J_2_7 + J_7_6 - J_6_7 + J_7_8 - J_8_7 <= 60
+ J_10_6 - J_6_10 + J_10_11 - J_11_10 + J_10_12 - J_12_10 <= 60
+ G_1_2 - G_2_1 + G_1_3 - G_3_1 + G_1_5 - G_5_1 <= 200
+ G_2_1 - G_1_2 + G_2_7 - G_7_2 + G_2_8 - G_8_2 <= 200
+ G_3_1 - G_1_3 + G_3_4 - G_4_3 + G_3_9 - G_9_3 <= 200
+ G_8_2 - G_2_8 + G_8_7 - G_7_8 + G_8_12 - G_12_8 <= 200
+ G_9_3 - G_3_9 + G_9_4 - G_4_9 + G_9_11 - G_11_9 <= 200
+ G_11_9 - G_9_11 + G_11_10 - G_10_11 + G_11_12 - G_12_11 <= 200
+ G_12_8 - G_8_12 + G_12_10 - G_10_12 + G_12_11 - G_11_12 <= 200
+ D_1_2 - D_2_1 + D_1_3 - D_3_1 + D_1_5 - D_5_1 <= 75
+ D_2_1 - D_1_2 + D_2_7 - D_7_2 + D_2_8 - D_8_2 <= 75
+ D_3_1 - D_1_3 + D_3_4 - D_4_3 + D_3_9 - D_9_3 <= 75
+ D_8_2 - D_2_8 + D_8_7 - D_7_8 + D_8_12 - D_12_8 <= 75
+ D_9_3 - D_3_9 + D_9_4 - D_4_9 + D_9_11 - D_11_9 <= 75
+ D_11_9 - D_9_11 + D_11_10 - D_10_11 + D_11_12 - D_12_11 <= 75
+ D_12_8 - D_8_12 + D_12_10 - D_10_12 + D_12_11 - D_11_12 <= 75

\for factory: jewelry:gold:diamond=60:70:20
+ 70 J_4_3 - 70 J_3_4 + 60 G_4_3 - 60 G_3_4 + 70 J_4_5 - 70 J_5_4 + 60 G_4_5 - 60 G_5_4 + 70 J_4_9 - 70 J_9_4 + 60 G_4_9 - 60 G_9_4 =0
+ 70 J_7_2 - 70 J_2_7 + 60 G_7_2 - 60 G_2_7 + 70 J_7_6 - 70 J_6_7 + 60 G_7_6 - 60 G_6_7 + 70 J_7_8 - 70 J_8_7 + 60 G_7_8 - 60 G_8_7 =0
+ 70 J_10_6 - 70 J_6_10 + 60 G_10_6 - 60 G_6_10 + 70 J_10_11 - 70 J_11_10 + 60 G_10_11 - 60 G_11_10 + 70 J_10_12 - 70 J_12_10 + 60 G_10_12 - 60 G_12_10 =0
+ 20 J_4_3 - 20 J_3_4 + 60 D_4_3 - 60 D_3_4 + 20 J_4_5 - 20 J_5_4 + 60 D_4_5 - 60 D_5_4 + 20 J_4_9 - 20 J_9_4 + 60 D_4_9 - 60 D_9_4 =0
+ 20 J_7_2 - 20 J_2_7 + 60 D_7_2 - 60 D_2_7 + 20 J_7_6 - 20 J_6_7 + 60 D_7_6 - 60 D_6_7 + 20 J_7_8 - 20 J_8_7 + 60 D_7_8 - 60 D_8_7 =0
+ 20 J_10_6 - 20 J_6_10 + 60 D_10_6 - 60 D_6_10 + 20 J_10_11 - 20 J_11_10 + 60 D_10_11 - 60 D_11_10 + 20 J_10_12 - 20 J_12_10 + 60 D_10_12 - 60 D_12_10 =0

\for quarry: gold:diamond=200:75
+ 200 D_1_2 - 200 D_2_1 - 75 G_1_2 + 75 G_2_1 + 200 D_1_3 - 200 D_3_1 - 75 G_1_3 + 75 G_3_1 + 200 D_1_5 - 200 D_5_1 - 75 G_1_5 + 75 G_5_1 =0
+ 200 D_2_1 - 200 D_1_2 - 75 G_2_1 + 75 G_1_2 + 200 D_2_7 - 200 D_7_2 - 75 G_2_7 + 75 G_7_2 + 200 D_2_8 - 200 D_8_2 - 75 G_2_8 + 75 G_8_2 =0
+ 200 D_3_1 - 200 D_1_3 - 75 G_3_1 + 75 G_1_3 + 200 D_3_4 - 200 D_4_3 - 75 G_3_4 + 75 G_4_3 + 200 D_3_9 - 200 D_9_3 - 75 G_3_9 + 75 G_9_3 =0
+ 200 D_8_2 - 200 D_2_8 - 75 G_8_2 + 75 G_2_8 + 200 D_8_7 - 200 D_7_8 - 75 G_8_7 + 75 G_7_8 + 200 D_8_12 - 200 D_12_8 - 75 G_8_12 + 75 G_12_8 =0
+ 200 D_9_3 - 200 D_3_9 - 75 G_9_3 + 75 G_3_9 + 200 D_9_4 - 200 D_4_9 - 75 G_9_4 + 75 G_4_9 + 200 D_9_11 - 200 D_11_9 - 75 G_9_11 + 75 G_11_9 =0
+ 200 D_11_9 - 200 D_9_11 - 75 G_11_9 + 75 G_9_11 + 200 D_11_10 - 200 D_10_11 - 75 G_11_10 + 75 G_10_11 + 200 D_11_12 - 200 D_12_11 - 75 G_11_12 + 75 G_12_11 =0
+ 200 D_12_8 - 200 D_8_12 - 75 G_12_8 + 75 G_8_12 + 200 D_12_10 - 200 D_10_12 - 75 G_12_10 + 75 G_10_12 + 200 D_12_11 - 200 D_11_12 - 75 G_12_11 + 75 G_11_12 =0

\factory consumes gold and diamond
- G_4_3 + G_3_4 - G_4_5 + G_5_4 - G_4_9 + G_9_4 >=0
- G_7_2 + G_2_7 - G_7_6 + G_6_7 - G_7_8 + G_8_7 >=0
- G_10_6 + G_6_10 - G_10_11 + G_11_10 - G_10_12 + G_12_10 >=0
- D_4_3 + D_3_4 - D_4_5 + D_5_4 - D_4_9 + D_9_4 >=0
- D_7_2 + D_2_7 - D_7_6 + D_6_7 - D_7_8 + D_8_7 >=0
- D_10_6 + D_6_10 - D_10_11 + D_11_10 - D_10_12 + D_12_10 >=0

\factory produces jewelry
+ J_4_3 - J_3_4 + J_4_5 - J_5_4 + J_4_9 - J_9_4 >=0
+ J_7_2 - J_2_7 + J_7_6 - J_6_7 + J_7_8 - J_8_7 >=0
+ J_10_6 - J_6_10 + J_10_11 - J_11_10 + J_10_12 - J_12_10 >=0
\quarry produces gold and diamond
+ G_1_2 - G_2_1 + G_1_3 - G_3_1 + G_1_5 - G_5_1 >=0
+ G_2_1 - G_1_2 + G_2_7 - G_7_2 + G_2_8 - G_8_2 >=0
+ G_3_1 - G_1_3 + G_3_4 - G_4_3 + G_3_9 - G_9_3 >=0
+ G_8_2 - G_2_8 + G_8_7 - G_7_8 + G_8_12 - G_12_8 >=0
+ G_9_3 - G_3_9 + G_9_4 - G_4_9 + G_9_11 - G_11_9 >=0
+ G_11_9 - G_9_11 + G_11_10 - G_10_11 + G_11_12 - G_12_11 >=0
+ G_12_8 - G_8_12 + G_12_10 - G_10_12 + G_12_11 - G_11_12 >=0
+ D_1_2 - D_2_1 + D_1_3 - D_3_1 + D_1_5 - D_5_1 >=0
+ D_2_1 - D_1_2 + D_2_7 - D_7_2 + D_2_8 - D_8_2 >=0
+ D_3_1 - D_1_3 + D_3_4 - D_4_3 + D_3_9 - D_9_3 >=0
+ D_8_2 - D_2_8 + D_8_7 - D_7_8 + D_8_12 - D_12_8 >=0
+ D_9_3 - D_3_9 + D_9_4 - D_4_9 + D_9_11 - D_11_9 >=0
+ D_11_9 - D_9_11 + D_11_10 - D_10_11 + D_11_12 - D_12_11 >=0
+ D_12_8 - D_8_12 + D_12_10 - D_10_12 + D_12_11 - D_11_12 >=0

\quarry can only transport jewelry
+ J_1_2 - J_2_1 + J_1_3 - J_3_1 + J_1_5 - J_5_1 = 0
+ J_2_1 - J_1_2 + J_2_7 - J_7_2 + J_2_8 - J_8_2 = 0
+ J_3_1 - J_1_3 + J_3_4 - J_4_3 + J_3_9 - J_9_3 = 0
+ J_8_2 - J_2_8 + J_8_7 - J_7_8 + J_8_12 - J_12_8 = 0
+ J_9_3 - J_3_9 + J_9_4 - J_4_9 + J_9_11 - J_11_9 = 0
+ J_11_9 - J_9_11 + J_11_10 - J_10_11 + J_11_12 - J_12_11 = 0
+ J_12_8 - J_8_12 + J_12_10 - J_10_12 + J_12_11 - J_11_12 = 0

\convert jewelry produced to energy
+ 300 J_4_3 - 300 J_3_4 + 300 J_4_5 - 300 J_5_4 + 300 J_4_9 - 300 J_9_4 - 60 E_4 = 0
+ 300 J_7_2 - 300 J_2_7 + 300 J_7_6 - 300 J_6_7 + 300 J_7_8 - 300 J_8_7 - 60 E_7 = 0
+ 300 J_10_6 - 300 J_6_10 + 300 J_10_11 - 300 J_11_10 + 300 J_10_12 - 300 J_12_10 - 60 E_10 = 0

\convert gold produced to energy
+ 100 G_1_2 - 100 G_2_1 + 100 G_1_3 - 100 G_3_1 + 100 G_1_5 - 100 G_5_1 - 200 E_1 = 0
+ 100 G_2_1 - 100 G_1_2 + 100 G_2_7 - 100 G_7_2 + 100 G_2_8 - 100 G_8_2 - 200 E_2 = 0
+ 100 G_3_1 - 100 G_1_3 + 100 G_3_4 - 100 G_4_3 + 100 G_3_9 - 100 G_9_3 - 200 E_3 = 0
+ 100 G_8_2 - 100 G_2_8 + 100 G_8_7 - 100 G_7_8 + 100 G_8_12 - 100 G_12_8 - 200 E_8 = 0
+ 100 G_9_3 - 100 G_3_9 + 100 G_9_4 - 100 G_4_9 + 100 G_9_11 - 100 G_11_9 - 200 E_9 = 0
+ 100 G_11_9 - 100 G_9_11 + 100 G_11_10 - 100 G_10_11 + 100 G_11_12 - 100 G_12_11 - 200 E_11 = 0
+ 100 G_12_8 - 100 G_8_12 + 100 G_12_10 - 100 G_10_12 + 100 G_12_11 - 100 G_11_12 - 200 E_12 = 0

\energy constraints, total energy <= MAX_ENERGY
+ E_1 + E_2 + E_3 + E_4 + E_5 + E_6 + E_7 + E_8 + E_9 + E_10 + E_11 + E_12 <=850

\market input >= output
- G_5_1 + G_1_5 - D_5_1 + D_1_5 - J_5_1 + J_1_5 - G_5_4 + G_4_5 - D_5_4 + D_4_5 - J_5_4 + J_4_5 - G_5_6 + G_6_5 - D_5_6 + D_6_5 - J_5_6 + J_6_5 >=0
- G_6_5 + G_5_6 - D_6_5 + D_5_6 - J_6_5 + J_5_6 - G_6_7 + G_7_6 - D_6_7 + D_7_6 - J_6_7 + J_7_6 - G_6_10 + G_10_6 - D_6_10 + D_10_6 - J_6_10 + J_10_6 >=0
Bounds
G_1_2>=0
D_1_2>=0
J_1_2>=0
G_1_3>=0
D_1_3>=0
J_1_3>=0
G_1_5>=0
D_1_5>=0
J_1_5>=0
G_2_1>=0
D_2_1>=0
J_2_1>=0
G_2_7>=0
D_2_7>=0
J_2_7>=0
G_2_8>=0
D_2_8>=0
J_2_8>=0
G_3_1>=0
D_3_1>=0
J_3_1>=0
G_3_4>=0
D_3_4>=0
J_3_4>=0
G_3_9>=0
D_3_9>=0
J_3_9>=0
G_4_3>=0
D_4_3>=0
J_4_3>=0
G_4_5>=0
D_4_5>=0
J_4_5>=0
G_4_9>=0
D_4_9>=0
J_4_9>=0
G_5_1>=0
D_5_1>=0
J_5_1>=0
G_5_4>=0
D_5_4>=0
J_5_4>=0
G_5_6>=0
D_5_6>=0
J_5_6>=0
G_6_5>=0
D_6_5>=0
J_6_5>=0
G_6_7>=0
D_6_7>=0
J_6_7>=0
G_6_10>=0
D_6_10>=0
J_6_10>=0
G_7_2>=0
D_7_2>=0
J_7_2>=0
G_7_6>=0
D_7_6>=0
J_7_6>=0
G_7_8>=0
D_7_8>=0
J_7_8>=0
G_8_2>=0
D_8_2>=0
J_8_2>=0
G_8_7>=0
D_8_7>=0
J_8_7>=0
G_8_12>=0
D_8_12>=0
J_8_12>=0
G_9_3>=0
D_9_3>=0
J_9_3>=0
G_9_4>=0
D_9_4>=0
J_9_4>=0
G_9_11>=0
D_9_11>=0
J_9_11>=0
G_10_6>=0
D_10_6>=0
J_10_6>=0
G_10_11>=0
D_10_11>=0
J_10_11>=0
G_10_12>=0
D_10_12>=0
J_10_12>=0
G_11_9>=0
D_11_9>=0
J_11_9>=0
G_11_10>=0
D_11_10>=0
J_11_10>=0
G_11_12>=0
D_11_12>=0
J_11_12>=0
G_12_8>=0
D_12_8>=0
J_12_8>=0
G_12_10>=0
D_12_10>=0
J_12_10>=0
G_12_11>=0
D_12_11>=0
J_12_11>=0

END
